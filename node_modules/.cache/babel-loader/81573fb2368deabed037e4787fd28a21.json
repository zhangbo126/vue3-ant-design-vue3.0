{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\crm-template\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\crm-template\\src\\components\\Menu\\menu.js","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\crm-template\\src\\components\\Menu\\menu.js","mtime":1612257772804},{"path":"C:\\Users\\Administrator\\Desktop\\crm-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1593498932153},{"path":"C:\\Users\\Administrator\\Desktop\\crm-template\\node_modules\\babel-loader\\lib\\index.js","mtime":1610000924500}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCBfbWVyZ2VKU1hQcm9wczMgZnJvbSAiQHZ1ZS9iYWJlbC1oZWxwZXItdnVlLWpzeC1tZXJnZS1wcm9wcyI7CmltcG9ydCBfdHlwZW9mIGZyb20gIkM6L1VzZXJzL0FkbWluaXN0cmF0b3IvRGVza3RvcC9jcm0tdGVtcGxhdGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZiI7CmltcG9ydCBfbWVyZ2VKU1hQcm9wczIgZnJvbSAiQHZ1ZS9iYWJlbC1oZWxwZXItdnVlLWpzeC1tZXJnZS1wcm9wcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkM6L1VzZXJzL0FkbWluaXN0cmF0b3IvRGVza3RvcC9jcm0tdGVtcGxhdGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgX21lcmdlSlNYUHJvcHMgZnJvbSAiQHZ1ZS9iYWJlbC1oZWxwZXItdnVlLWpzeC1tZXJnZS1wcm9wcyI7CmltcG9ydCBNZW51IGZyb20gJ2FudC1kZXNpZ24tdnVlL2VzL21lbnUnOwppbXBvcnQgSWNvbiBmcm9tICdhbnQtZGVzaWduLXZ1ZS9lcy9pY29uJzsKaW1wb3J0IHsgYXN5bmNSb3V0ZXJNYXAgfSBmcm9tICdAL2NvbmZpZy9yb3V0ZXIuY29uZmlnJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdTTWVudScsCiAgcHJvcHM6IHsKICAgIG1lbnU6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgdGhlbWU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6ICdkYXJrJwogICAgfSwKICAgIG1vZGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6ICdpbmxpbmUnCiAgICB9LAogICAgY29sbGFwc2VkOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhc3luY1JvdXRlck1hcDogYXN5bmNSb3V0ZXJNYXAsCiAgICAgIG9wZW5LZXlzOiBbXSwKICAgICAgc2VsZWN0ZWRLZXlzOiBbXSwKICAgICAgLy/pobXpnaLliqDovb3ml7bpu5jorqTpgInkuK3nmoQg6I+c5Y2VCiAgICAgIGNhY2hlZE9wZW5LZXlzOiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBjb25zb2xlLmxvZyh0aGlzLmFzeW5jUm91dGVyTWFwKTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLnVwZGF0ZU1lbnUoKTsKICB9LAogIHdhdGNoOiB7CiAgICBjb2xsYXBzZWQ6IGZ1bmN0aW9uIGNvbGxhcHNlZCh2YWwpIHsKICAgICAgaWYgKHZhbCkgewogICAgICAgIHRoaXMuY2FjaGVkT3BlbktleXMgPSB0aGlzLm9wZW5LZXlzLmNvbmNhdCgpOwogICAgICAgIHRoaXMub3BlbktleXMgPSBbXTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLm9wZW5LZXlzID0gdGhpcy5jYWNoZWRPcGVuS2V5czsKICAgICAgfQogICAgfSwKICAgICRyb3V0ZTogZnVuY3Rpb24gJHJvdXRlKCkgewogICAgICB0aGlzLnVwZGF0ZU1lbnUoKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHJlbmRlckl0ZW06IGZ1bmN0aW9uIHJlbmRlckl0ZW0obWVudSkgewogICAgICBpZiAoIW1lbnUuaGlkZGVuKSB7CiAgICAgICAgcmV0dXJuIG1lbnUuY2hpbGRyZW4gJiYgIW1lbnUuaGlkZUNoaWxkcmVuSW5NZW51ID8gdGhpcy5yZW5kZXJTdWJNZW51KG1lbnUpIDogdGhpcy5yZW5kZXJNZW51SXRlbShtZW51KTsKICAgICAgfQoKICAgICAgcmV0dXJuIG51bGw7CiAgICB9LAogICAgb25TZWxlY3Q6IGZ1bmN0aW9uIG9uU2VsZWN0KF9yZWYpIHsKICAgICAgdmFyIGl0ZW0gPSBfcmVmLml0ZW0sCiAgICAgICAgICBrZXkgPSBfcmVmLmtleSwKICAgICAgICAgIHNlbGVjdGVkS2V5cyA9IF9yZWYuc2VsZWN0ZWRLZXlzOwogICAgICB0aGlzLnNlbGVjdGVkS2V5cyA9IHNlbGVjdGVkS2V5czsgLy8gdGhpcy4kZW1pdCgnc2VsZWN0JywgeyBpdGVtLCBrZXksIHNlbGVjdGVkS2V5cyB9KQogICAgfSwKICAgIHVwZGF0ZU1lbnU6IGZ1bmN0aW9uIHVwZGF0ZU1lbnUoKSB7CiAgICAgIHZhciByb3V0ZXMgPSB0aGlzLiRyb3V0ZS5tYXRjaGVkLmNvbmNhdCgpOwogICAgICB2YXIgaGlkZGVuID0gdGhpcy4kcm91dGUubWV0YS5oaWRkZW47CgogICAgICBpZiAocm91dGVzLmxlbmd0aCA+PSAzICYmIGhpZGRlbikgewogICAgICAgIHJvdXRlcy5wb3AoKTsKICAgICAgICB0aGlzLnNlbGVjdGVkS2V5cyA9IFtyb3V0ZXNbcm91dGVzLmxlbmd0aCAtIDFdLnBhdGhdOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2VsZWN0ZWRLZXlzID0gW3JvdXRlcy5wb3AoKS5wYXRoXTsKICAgICAgfQoKICAgICAgdmFyIG9wZW5LZXlzID0gW107CgogICAgICBpZiAodGhpcy5tb2RlID09PSAnaW5saW5lJykgewogICAgICAgIHJvdXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICBvcGVuS2V5cy5wdXNoKGl0ZW0ucGF0aCk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHRoaXMuY29sbGFwc2VkID8gdGhpcy5jYWNoZWRPcGVuS2V5cyA9IG9wZW5LZXlzIDogdGhpcy5vcGVuS2V5cyA9IG9wZW5LZXlzOwogICAgfSwKICAgIG9uT3BlbkNoYW5nZTogZnVuY3Rpb24gb25PcGVuQ2hhbmdlKG9wZW5LZXlzKSB7CiAgICAgIC8vIOWcqOawtOW5s+aooeW8j+S4i+aXtuaJp+ihjO+8jOW5tuS4lOS4jeWGjeaJp+ihjOWQjue7rQogICAgICBpZiAodGhpcy5tb2RlID09PSAnaG9yaXpvbnRhbCcpIHsKICAgICAgICB0aGlzLm9wZW5LZXlzID0gb3BlbktleXM7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLm9wZW5LZXlzID0gb3BlbktleXM7IC8vIOmdnuawtOW5s+aooeW8j+aXtgogICAgICAvLyBjb25zdCBsYXRlc3RPcGVuS2V5ID0gb3BlbktleXMuZmluZChrZXkgPT4gIXRoaXMub3BlbktleXMuaW5jbHVkZXMoa2V5KSkKICAgICAgLy8gaWYgKCF0aGlzLnJvb3RTdWJtZW51S2V5cy5pbmNsdWRlcyhsYXRlc3RPcGVuS2V5KSkgewogICAgICAvLyAgICAgdGhpcy5vcGVuS2V5cyA9IG9wZW5LZXlzCiAgICAgIC8vIH0gZWxzZSB7CiAgICAgIC8vICAgICB0aGlzLm9wZW5LZXlzID0gbGF0ZXN0T3BlbktleSA/IFtsYXRlc3RPcGVuS2V5XSA6IFtdCiAgICAgIC8vIH0KICAgIH0sCiAgICByZW5kZXJTdWJNZW51OiBmdW5jdGlvbiByZW5kZXJTdWJNZW51KG1lbnUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBoID0gdGhpcy4kY3JlYXRlRWxlbWVudDsKICAgICAgdmFyIGl0ZW1BcnIgPSBbXTsKCiAgICAgIGlmICghbWVudS5oaWRlQ2hpbGRyZW5Jbk1lbnUpIHsKICAgICAgICBtZW51LmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBpdGVtQXJyLnB1c2goX3RoaXMucmVuZGVySXRlbShpdGVtKSk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBoKE1lbnUuU3ViTWVudSwgX21lcmdlSlNYUHJvcHMoW3t9LCB7CiAgICAgICAga2V5OiBtZW51LnBhdGgKICAgICAgfV0pLCBbaCgic3BhbiIsIHsKICAgICAgICAic2xvdCI6ICJ0aXRsZSIKICAgICAgfSwgWyIgIiwgdGhpcy5yZW5kZXJJY29uKG1lbnUubWV0YS5pY29uKSwgaCgic3BhbiIsIFsiICIsIG1lbnUubWV0YS50aXRsZSwgIiAiXSldKSwgIiAiLCBpdGVtQXJyXSk7CiAgICB9LAogICAgcmVuZGVyTWVudUl0ZW06IGZ1bmN0aW9uIHJlbmRlck1lbnVJdGVtKG1lbnUpIHsKICAgICAgdmFyIGggPSB0aGlzLiRjcmVhdGVFbGVtZW50OwogICAgICB2YXIgdGFyZ2V0ID0gbWVudS5tZXRhLnRhcmdldCB8fCBudWxsOwogICAgICB2YXIgQ3VzdG9tVGFnID0gdGFyZ2V0ICYmICdhJyB8fCAncm91dGVyLWxpbmsnOwogICAgICB2YXIgcHJvcHMgPSB7CiAgICAgICAgdG86IHsKICAgICAgICAgIG5hbWU6IG1lbnUubmFtZQogICAgICAgIH0KICAgICAgfTsKICAgICAgdmFyIGF0dHJzID0gewogICAgICAgIGhyZWY6IG1lbnUucGF0aCwKICAgICAgICB0YXJnZXQ6IG1lbnUubWV0YS50YXJnZXQKICAgICAgfTsKCiAgICAgIGlmIChtZW51LmNoaWxkcmVuICYmIG1lbnUuaGlkZUNoaWxkcmVuSW5NZW51KSB7CiAgICAgICAgLy8g5oqK5pyJ5a2Q6I+c5Y2V55qEIOW5tuS4lCDniLboj5zljZXmmK/opoHpmpDol4/lrZDoj5zljZXnmoQKICAgICAgICAvLyDpg73nu5nlrZDoj5zljZXlop7liqDkuIDkuKogaGlkZGVuIOWxnuaApwogICAgICAgIC8vIOeUqOadpee7meWIt+aWsOmhtemdouaXtu+8jCBzZWxlY3RlZEtleXMg5YGa5o6n5Yi255SoCiAgICAgICAgbWVudS5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICBpdGVtLm1ldGEgPSBPYmplY3QuYXNzaWduKGl0ZW0ubWV0YSwgewogICAgICAgICAgICBoaWRkZW46IHRydWUKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9IC8vIHsuLi57IG9uOiB7IGNsaWNrOiAoKSA9PiB7IHRoaXMudXBkYXRlUGFnZShtZW51KSB9IH0gfX0KCgogICAgICByZXR1cm4gaChNZW51Lkl0ZW0sIF9tZXJnZUpTWFByb3BzMihbe30sIHsKICAgICAgICBrZXk6IG1lbnUucGF0aAogICAgICB9XSksIFtoKEN1c3RvbVRhZywgewogICAgICAgICJwcm9wcyI6IF9vYmplY3RTcHJlYWQoe30sIHByb3BzKSwKICAgICAgICAiYXR0cnMiOiBfb2JqZWN0U3ByZWFkKHt9LCBhdHRycykKICAgICAgfSwgWyIgIiwgdGhpcy5yZW5kZXJJY29uKG1lbnUubWV0YS5pY29uKSwgaCgic3BhbiIsIFsiICIsIG1lbnUubWV0YS50aXRsZSwgIiAiXSldKV0pOwogICAgfSwKICAgIHJlbmRlckljb246IGZ1bmN0aW9uIHJlbmRlckljb24oaWNvbikgewogICAgICB2YXIgaCA9IHRoaXMuJGNyZWF0ZUVsZW1lbnQ7CgogICAgICBpZiAoaWNvbiA9PT0gJ25vbmUnIHx8IGljb24gPT09IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CgogICAgICB2YXIgcHJvcHMgPSB7fTsKICAgICAgX3R5cGVvZihpY29uKSA9PT0gJ29iamVjdCcgPyBwcm9wcy5jb21wb25lbnQgPSBpY29uIDogcHJvcHMudHlwZSA9IGljb247CiAgICAgIHJldHVybiBoKEljb24sIHsKICAgICAgICAicHJvcHMiOiBfb2JqZWN0U3ByZWFkKHt9LCBwcm9wcykKICAgICAgfSk7CiAgICB9CiAgfSwKICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIHZhciBoID0gYXJndW1lbnRzWzBdOwogICAgdmFyIGR5bmFtaWNQcm9wcyA9IHsKICAgICAgcHJvcHM6IHsKICAgICAgICB0aGVtZTogJ2RhcmsnLAogICAgICAgIG1vZGU6ICdpbmxpbmUnLAogICAgICAgIHNlbGVjdGVkS2V5czogdGhpcy5zZWxlY3RlZEtleXMKICAgICAgfSwKICAgICAgb246IHsKICAgICAgICBvcGVuQ2hhbmdlOiB0aGlzLm9uT3BlbkNoYW5nZSwKICAgICAgICBzZWxlY3Q6IHRoaXMub25TZWxlY3QKICAgICAgfQogICAgfTsKICAgIHZhciBtZW51VHJlZSA9IHRoaXMuYXN5bmNSb3V0ZXJNYXAubWFwKGZ1bmN0aW9uICh0cmVlKSB7CiAgICAgIGlmICh0cmVlLmhpZGRlbikgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CgogICAgICByZXR1cm4gX3RoaXMyLnJlbmRlckl0ZW0odHJlZSk7CiAgICB9KTsKICAgIHJldHVybiBoKE1lbnUsIF9tZXJnZUpTWFByb3BzMyhbe30sIGR5bmFtaWNQcm9wc10pLCBbIiAiLCBtZW51VHJlZSwgIiAiXSk7CiAgfQp9Ow=="},{"version":3,"sources":["C:/Users/Administrator/Desktop/crm-template/src/components/Menu/menu.js"],"names":["Menu","Icon","asyncRouterMap","name","props","menu","type","Array","required","theme","String","default","mode","collapsed","Boolean","data","openKeys","selectedKeys","cachedOpenKeys","created","console","log","mounted","updateMenu","watch","val","concat","$route","methods","renderItem","hidden","children","hideChildrenInMenu","renderSubMenu","renderMenuItem","onSelect","item","key","routes","matched","meta","length","pop","path","forEach","push","onOpenChange","itemArr","renderIcon","icon","title","target","CustomTag","to","attrs","href","Object","assign","undefined","component","render","dynamicProps","on","openChange","select","menuTree","map","tree"],"mappings":"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","sourcesContent":["import Menu from 'ant-design-vue/es/menu'\r\nimport Icon from 'ant-design-vue/es/icon'\r\n\r\nimport { asyncRouterMap } from '@/config/router.config'\r\n\r\nexport default {\r\n    name: 'SMenu',\r\n    props: {\r\n        menu: {\r\n            type: Array,\r\n            required: true\r\n        },\r\n        theme: {\r\n            type: String,\r\n            required: false,\r\n            default: 'dark'\r\n        },\r\n        mode: {\r\n            type: String,\r\n            required: false,\r\n            default: 'inline'\r\n        },\r\n        collapsed: {\r\n            type: Boolean,\r\n            required: false,\r\n            default: false\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            asyncRouterMap,\r\n            openKeys: [],\r\n            selectedKeys: [],  //页面加载时默认选中的 菜单\r\n            cachedOpenKeys: []\r\n        }\r\n    },\r\n    created() {\r\n        console.log(this.asyncRouterMap)\r\n    },\r\n    mounted() {\r\n        this.updateMenu()\r\n    },\r\n    watch: {\r\n        collapsed(val) {\r\n            if (val) {\r\n                this.cachedOpenKeys = this.openKeys.concat()\r\n                this.openKeys = []\r\n            } else {\r\n                this.openKeys = this.cachedOpenKeys\r\n            }\r\n        },\r\n        $route: function () {\r\n      \r\n            this.updateMenu()\r\n        }\r\n    },\r\n    methods: {\r\n        renderItem(menu) {\r\n            if (!menu.hidden) {\r\n                return menu.children && !menu.hideChildrenInMenu ? this.renderSubMenu(menu) : this.renderMenuItem(menu)\r\n            }\r\n            return null\r\n        },\r\n        onSelect({ item, key, selectedKeys }) {\r\n            this.selectedKeys = selectedKeys\r\n            // this.$emit('select', { item, key, selectedKeys })\r\n        },\r\n        updateMenu() {\r\n            const routes = this.$route.matched.concat()\r\n            \r\n            const { hidden } = this.$route.meta\r\n            if (routes.length >= 3 && hidden) {\r\n                routes.pop()\r\n                this.selectedKeys = [routes[routes.length - 1].path]\r\n            } else {\r\n                this.selectedKeys = [routes.pop().path] \r\n              \r\n            }\r\n            const openKeys = []\r\n            if (this.mode === 'inline') {\r\n                routes.forEach(item => {\r\n                    openKeys.push(item.path)\r\n                })\r\n            }\r\n\r\n            this.collapsed ? (this.cachedOpenKeys = openKeys) : (this.openKeys = openKeys)\r\n        },\r\n        onOpenChange(openKeys) {\r\n            // 在水平模式下时执行，并且不再执行后续\r\n            if (this.mode === 'horizontal') {\r\n                this.openKeys = openKeys\r\n                return\r\n            }\r\n\r\n            this.openKeys = openKeys\r\n            // 非水平模式时\r\n            // const latestOpenKey = openKeys.find(key => !this.openKeys.includes(key))\r\n\r\n            // if (!this.rootSubmenuKeys.includes(latestOpenKey)) {\r\n            //     this.openKeys = openKeys\r\n            // } else {\r\n            //     this.openKeys = latestOpenKey ? [latestOpenKey] : []\r\n            // }\r\n        },\r\n        renderSubMenu(menu) {\r\n\r\n            const itemArr = []\r\n            if (!menu.hideChildrenInMenu) {\r\n                menu.children.forEach(item => itemArr.push(this.renderItem(item)))\r\n            }\r\n\r\n            return (<\r\n                Menu.SubMenu {... { key: menu.path }} >\r\n\r\n                <span slot=\"title\" > {this.renderIcon(menu.meta.icon)}\r\n                    <span> {menu.meta.title} </span>\r\n                </span> { itemArr}\r\n            </Menu.SubMenu>\r\n            )\r\n        },\r\n        renderMenuItem(menu) {\r\n            const target = menu.meta.target || null\r\n            const CustomTag = target && 'a' || 'router-link'\r\n            const props = { to: { name: menu.name } }\r\n            const attrs = { href: menu.path, target: menu.meta.target }\r\n\r\n            if (menu.children && menu.hideChildrenInMenu) {\r\n                // 把有子菜单的 并且 父菜单是要隐藏子菜单的\r\n                // 都给子菜单增加一个 hidden 属性\r\n                // 用来给刷新页面时， selectedKeys 做控制用\r\n                menu.children.forEach(item => {\r\n                    item.meta = Object.assign(item.meta, { hidden: true })\r\n                })\r\n            }\r\n            // {...{ on: { click: () => { this.updatePage(menu) } } }}\r\n            return (\r\n                <Menu.Item  {... { key: menu.path }}>\r\n                    <CustomTag  {... { props, attrs }} > {this.renderIcon(menu.meta.icon)}\r\n                        <span> {menu.meta.title} </span>\r\n                    </CustomTag >\r\n                </Menu.Item>\r\n            )\r\n        },\r\n        renderIcon(icon) {\r\n            if (icon === 'none' || icon === undefined) {\r\n                return null\r\n            }\r\n            const props = {}\r\n            typeof (icon) === 'object' ? props.component = icon : props.type = icon\r\n            return (<\r\n                Icon {... { props }}\r\n            />\r\n            )\r\n        }\r\n    },\r\n    render() {\r\n         \r\n        const dynamicProps = {\r\n            props: {\r\n                theme: 'dark',\r\n                mode: 'inline',\r\n                selectedKeys: this.selectedKeys ,\r\n            },\r\n            on: {\r\n                openChange: this.onOpenChange,\r\n                select: this.onSelect ,\r\n\r\n            }\r\n        }\r\n        const menuTree = this.asyncRouterMap.map(tree => {\r\n            if (tree.hidden) {\r\n                return null\r\n            }\r\n            return this.renderItem(tree)\r\n        })\r\n\r\n\r\n\r\n        return (<Menu  {...dynamicProps}> { menuTree} </Menu>)\r\n    },\r\n}"]}]}